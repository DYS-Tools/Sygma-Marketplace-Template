{% extends 'base.html.twig' %} 

{% block title %}Order{% endblock %}

{% block body %}

    <div class="padding container">
          </br></br>

          <h2> Paiement annulé </h2>
          <p> pour une raison ou pour une autre, le paiement du produit a été annulé. Si vous souhaitez acheter un produit, 
          veuillez effectuer une nouvelle commande.
          </p>

        <br/>
          <br/>
        <hr>
    </div>

{% endblock %}

{% block javascripts %}

{{ parent() }}

<script>
      var stripe = Stripe('{{ stripe_public_key }}');
      //CODE A EXECUTER SI APPUI SUR BOUTON DE PAIEMENT 
      jQuery(document).ready(function() {
          $("#paybutton").click(function() {
              stripe.redirectToCheckout({
                sessionId: '{{ CHECKOUT_SESSION_ID }}'
                // Make the id field from the Checkout Session creation API response
                // available to this file, so you can provide it as parameter here
                // instead of the {{CHECKOUT_SESSION_ID}} placeholder.
                
              }).then(function (result) {
                alert('then function result');
                // If `redirectToCheckout` fails due to a browser or network
                // error, display the localized error message to your customer
                // using `result.error.message`.
              });
          });
        });
</script>
     
  

{% endblock %}